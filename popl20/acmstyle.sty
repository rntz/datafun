%% TODO:
%% - read through entire paper again to catch bugs

\def\arraystretch{1.12} % more space
\setlength\arraycolsep{.4em}

\renewcommand\mathvar\ensuremath % for Euler (b/c it's upright)
\usepackage{eulervm}
\edef\zeu@Scale{0.9302832244008714} % calculated based on x-height.
\edef\zeu@Scale{0.94} % adjusted by eye.

%% Scale inconsolata to match Libertine x-height.
\renewcommand{\zifour@scaled}{s*[0.9387308533916848]}

%% Defaults:
%% - text float sep: 15pt plus 8pt minus 5pt
%% - above caption skip: 12pt
%% - below caption skip: 0pt
%%
%% Below caption skip is applied unconditionally, while text float sep is only
%% used when figure is followed by text, not by another figure. I've chosen
%% these values so as to leave the total skip when followed by text the same,
%% but enlarge the inter-float skip.
\setlength\belowcaptionskip{10pt}
\setlength\textfloatsep{5pt plus 8pt minus 5pt}

\microtypesetup{tracking=true,letterspace=20}

% Libertine smallcaps: More tracking, disable Q-ligatures.
\SetTracking[
  no ligatures=q,
]{
  encoding={T1,LY1,T2A},
  family={LinuxLibertineT-LF,LinuxLibertineT-TLF},
  shape={sc*,si,scit},
}{40}

%% More tracking for the really small biolinum text in the table in
%% fig-seminaive-vs-naive-graph.
\SetTracking{
  encoding={T1,LY1,T2A},
  family={LinuxBiolinumT-LF,LinuxBiolinumT-TLF},
  shape={sc*,si,scit},
  size={-small},
}{35}

%% %% Add just a smidge of tracking to ALLCAPS.
%% \let\@mtu\MakeTextUppercase
%% %\renewcommand*\MakeTextUppercase[1]{\@mtu{\textls*[10]{#1}}}
%% \renewcommand*\MakeTextUppercase[1]{{\microtypecontext{tracking=allcaps}\@mtu{\textls*{#1}}}}
%% \SetTracking[context=allcaps,
%%   %spacing={100*,,},
%%   %spacing={300,,},
%% ]{
%%   encoding={T1,LY1,T2A},
%%   family={LinuxBiolinumT-LF,LinuxBiolinumT-TLF},
%% }{20} % 12. 40 too large.
