\def\arraystretch{1.08} % a little more space by default
\setlength\arraycolsep{2pt} % 1.667pt?

%\setlength\abovecaptionskip{10pt plus 2pt minus 2pt}
%\setlength\belowcaptionskip{12pt plus 6pt minus 4pt}\setlength\textfloatsep{0pt}

% Used by center environment, enumerate, & itemize.
\setlength\listisep{6pt plus 3pt minus 3pt} % 2-10pt is tolerable.

\usepackage{enumitem}
\setlist{
  listparindent=\parindent,
  topsep=\smallskipamount, itemsep=\smallskipamount,
  labelsep=6pt,
}
%\setlist[enumerate]{leftmargin=*}
%\setlist[itemize]{leftmargin=2em}

% spacing: allow interword spacing adjustment.
% stretch: maximum allowed font expansion; default is 20.
% tracking: use letterspacing on small caps.
% letterspace: amount of added letter-spacing in \lsstyle, \scshape, &c.
\microtypesetup{tracking=true,letterspace=0,
  %spacing=true, stretch=20, shrink=15,
}

%% \usepackage{enumitem}\setlist{labelindent=1em,labelsep=.75em,leftmargin=*}
%% \setlist{labelindent=.5em,labelsep=.75em,leftmargin=*}
%% \setlist{labelindent=0em,labelsep=.75em,leftmargin=*}

\captionsetup[figure]{name=Figure}
\captionsetup{labelfont={sf,sc},textfont={sf},labelsep=period}
%\captionsetup{labelfont=it,textfont=it,labelsep=period}

% Letter-space uppercase text.
\let\@mtu\MakeTextUppercase
\renewcommand\MakeTextUppercase{\lsstyle\@mtu}

% Make author lines all sans-serif.
\def\@affiliationfont{\small\normalfont\sffamily}

% Put section numbers in left margin. Not sure if I like this.
%\renewcommand\@seccntformat[1]{\llap{\parbox[t]{100in}{\hfill\csname the#1\endcsname\hspace*{\dimexpr\f@size pt\relax}}}}


%% ---------- Sans-serifs ----------
%% scaled to match Charter at scaled=.94.

%% ----- #1: Alegreya, large section titles -----
\usepackage[scaled=0.9872074235807861,lf,tabular,]{AlegreyaSans}
\microtypesetup{letterspace=8,}  % 5-12
\renewcommand\MakeTextUppercase\scshape % hack
\renewcommand\@secfont{\large\sffamily\bfseries\section@raggedright}
%\renewcommand\@subsecfont{\AlegreyaSansMedium\section@raggedright}

%% %% ----- #2: Lato, all caps OR large section titles -----
%% %% No small caps.
%% \usepackage[defaultsans,scale=0.8926752221125368,lining,tabular,]{lato}
%% \microtypesetup{letterspace=20,} % 10-25
%% \newcommand\@secweight\bfseries
%% \renewcommand\@secweight{\fontseries{eb}\selectfont}
%% \renewcommand\@secfont{\large\sffamily\@secweight\section@raggedright}
%% \renewcommand\@subsecfont{\sffamily\@secweight\section@raggedright}

%% %% ----- #3: Source Sans Pro, all-caps OR large OR large small-caps -----
%% \usepackage[scaled=0.94,scaled=0.9303292181069958,semibold,]{sourcesanspro}
%% \microtypesetup{tracking=false,letterspace=5,} %0-25
%% \renewcommand\@secfont{\large\sffamily\bfseries\section@raggedright}
%% %\renewcommand\@subsecfont{\sffamily\fontseries{sb}\selectfont\section@raggedright}

%% %% ----- #4: Open or Noto Sans, all-caps OR large section titles -----
%% % Open sans regular weight is too light & its small caps are terrible.
%% % But it looks nicer in all-caps.
%% %\usepackage[defaultsans,scale=0.8451214953271028,]{opensans}
%% \usepackage[scale=0.8435447761194028,lf,tf,]{noto-sans}
%% \microtypesetup{tracking=false,letterspace=10,} % 0-15
%% \renewcommand\@secfont{\large\sffamily\bfseries\section@raggedright}

%% %% ----- #5: Serif section titles -----
%% \renewcommand\@secfont{\large\bfseries}
%% \renewcommand\@subsecfont{\bfseries}


%% ---------- Serif & math fonts ----------
%% Unscaled x-heights:
% Euler     XCharter    SourceSerif     SourceSans
% 4.59      4.81        4.75            4.86

%% Scalings tuned to roughly match libertine, leaning larger.
%\usepackage[scaled=0.925,semibold,]{sourceserifpro}\edef\zeu@Scale{0.957244008714597}
%\usepackage[scaled=.93,largesc,]{newpxtext} \def\zeu@Scale{.93} %\usepackage[scaled=.93]{newpxmath}
\usepackage[scaled=.94]{XCharter}\edef\zeu@Scale{0.9850544662309367}

\renewcommand\mathvar\ensuremath % for Euler (b/c it's upright)
\usepackage{eulervm}

%% Set tracking just for Charter's small caps.
\SetTracking{
  encoding={T1,LY1,T2A},
  family={XCharter-TLF,XCharter-TOsF},
  shape={sc*,si,scit},
}{35} %% 30. 20-50
