% -*- mode: LaTeX -*-
\maketitle

\begin{abstract}
  We generalize semi\naive{} evaluation from Datalog to Datafun and prove it
  correct.
\end{abstract}

\section{Strategy}
We first generalize Datafun's \Poset{} semantics to any category with
appropriate structures (\cref{sec:datafun-models}). We construct such a
category, \CP{}, whose objects are posets equipped with a notion of increasing
changes, and whose morphisms are monotone maps possessing \emph{derivatives}
relating input and output changes (\cref{sec:changeposets}). We show this
``incremental'' semantics agrees with Datafun's standard semantics
(\cref{sec:incremental}). We give a static transformation on Datafun that
reinterprets the discreteness comonad to compute derivatives, and uses these to
speed up fixed point computations. Finally, we prove this semi\naive{}
evaluation transform correct.
