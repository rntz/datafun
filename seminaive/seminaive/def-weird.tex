\begin{definition}\label{def:weird}
  Inductively on types $A$, given $a,b : \den{A}$, $x,y : \den{\Phi A}$, and
  $\dx : \den{\D\Phi A}$, we define $\weirdat{A}{\dx}{x}{a}{y}{b}$ as the
  relation generated by these inference rules:

  %% \nopagebreak[2]
  %% \begin{align*}
  %%   \weirdat{\tunit}{\tuple{}}{\tuple{}}{\tuple{}}{\tuple{}}{\tuple{}}
  %%   \\
  %%   \weirdat{\tseteq A}{\dx}{x}{x}{x \cup \dx}{x \cup \dx}
  %%   \\
  %%   \weirdat{\iso A}{\tuple{}}{(x,\dx)}{a}{(x,\dx)}{a}
  %%   &\impliedby \weirdat{A}{\dx}{x}{a}{x}{a}
  %%   \\
  %%   \weirdat{A \to B}{\df}{f}{f_s}{g}{g_s}
  %%   &\impliedby
  %%   \fa{\weirdat{A}{\dx}{x}{a}{y}{b}}
  %%   \\
  %%   &\phantom{{}\impliedby{}}
  %%   \weirdat{B}{\df\<x\<\dx}{f\<x}{f_s\<a}{g\<y}{g_s\<b}
  %%   \\
  %%   \weirdat{A_1 \x A_2}{\vec{\dx}}{\vec x}{\vec a}{\vec y}{\vec b}
  %%   &\impliedby
  %%   \fa{i} \weirdat{A_i}{\dx_i}{x_i}{a_i}{y_i}{b_i}
  %%   \\
  %%   \weirdat{A_1 + A_2}{\inj i \dx}{\inj i x}{\inj i a}{\inj i y}{\inj i b}
  %%   &\impliedby
  %%   \weirdat{A_i}{\dx}{x}{a}{y}{b}
  %% \end{align*}

  \nopagebreak[2]\vspace{-.5\baselineskip}
  \begin{mathpar}
    \weirdat{\tunit}{\tuple{}}{\tuple{}}{\tuple{}}{\tuple{}}{\tuple{}}

    \weirdat{\tseteq A}{\dx}{x}{x}{x \cup \dx}{x \cup \dx}

    \infer{\weirdat{A}{\dx}{x}{a}{x}{a}}{
      \weirdat{\iso A}{\tuple{}}{(x,\dx)}{a}{(x,\dx)}{a}}

    \infer{\fa{\weirdat{A}{\dx}{x}{a}{y}{b}}
      \weirdat{B}{\df\<x\<\dx}{f\<x}{f_s\<a}{g\<y}{g_s\<b}
    }{
      \weirdat{A \to B}{\df}{f}{f_s}{g}{g_s}}

    \infer{\fa{i} \weirdat{A_i}{\dx_i}{x_i}{a_i}{y_i}{b_i}}{
      \weirdat{A_1 \x A_2}{\vec{\dx}}{\vec x}{\vec a}{\vec y}{\vec b}}

    \infer{\weirdat{A_i}{\dx}{x}{a}{y}{b}}{
      \weirdat{A_1 + A_2}{\inj i \dx}{\inj i x}{\inj i a}{\inj i y}{\inj i b}}
  \end{mathpar}
\end{definition}
